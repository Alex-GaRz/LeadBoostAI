
# =============================================================================
# RFC-PHOENIX-02: Environment Variables for Kafka Messaging
# Copy to .env.messaging and configure for your environment
# =============================================================================

# Kafka Cluster Configuration
KAFKA_BOOTSTRAP_SERVERS=kafka-broker-1:9092,kafka-broker-2:9092,kafka-broker-3:9092
KAFKA_BOOTSTRAP_SERVERS_SSL=kafka-broker-1:9093,kafka-broker-2:9093,kafka-broker-3:9093

# Security (mTLS)
KAFKA_SSL_KEY_PASSWORD=changeme
KAFKA_SSL_KEYSTORE_PASSWORD=changeme
KAFKA_SSL_TRUSTSTORE_PASSWORD=changeme

# Database Configuration (for Idempotency & Traceability)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=leadboost
DB_USER=postgres
DB_PASSWORD=your_secure_password_here
DB_SCHEMA=sys

# Redis Configuration (for Rate Limiting)
REDIS_URL=redis://localhost:6379/1
REDIS_PASSWORD=

# Observability
HEALTH_CHECK_PORT=8000
METRICS_ENABLED=true
LOG_LEVEL=INFO

# Environment
ENVIRONMENT=development  # development | staging | production

# Rate Limiting (per tenant)
RATE_LIMIT_MESSAGES_PER_SECOND=100
RATE_LIMIT_BURST_SIZE=200

# Consumer Configuration
CONSUMER_GROUP_ID=default-consumer-group
MAX_POLL_INTERVAL_MS=300000
SESSION_TIMEOUT_MS=30000

# Producer Configuration
PRODUCER_ACKS=all
PRODUCER_RETRIES=2147483647
PRODUCER_COMPRESSION_TYPE=snappy

# Circuit Breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT_SECONDS=60

# Retry Configuration
RETRY_MAX_ATTEMPTS=3
RETRY_BACKOFF_MS=1000,2000,5000

# SAGA Configuration
SAGA_STEP_TIMEOUT_SECONDS=300
SAGA_EVENT_POLL_INTERVAL_SECONDS=1
